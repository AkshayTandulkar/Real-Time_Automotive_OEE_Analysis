# Real-Time Overall Equipement Effeciency(OEE) Analysis for Automotive Domain
__Real-time__ performance optimization project encompassing a comprehensive streaming __data pipeline__ with __data collection, persistence, preparation, processing, analysis, and visualization__ using __AWS services__

* __Reference__ : "AWS Data-Driven Everything(D2E) Workshop - Chicago"


### Project Objective

An automotive manufacturing company aims to become world class in manufacturing operations. In order to achieve this objective each machine in the factory should achieve Overall Equipment Efficiency (OEE) of 85% or above. OEE is the Key Performance Indicator (KPI) we would track to improve the Overall Operating Efficiency. OEE looks at the cumulative efficiency of machine over time. It focuses on the amount of total units produced against how many of those are considered defects.The company has found that they are close to this operating target but suspect there are certain machines that needs a repair.

* __Part A__ : As a Data Engineer we will store the historical manufacturing data. Then we will create a Glue database to catalog the data. As a Data Analyst we will clean the historical dataset using AWS Glue DataBrew Job.

* __Architecture__

![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/0d953654-6493-4108-8933-ff5fd8326d87)

<p align="center"> Image Source : AWS </p>

* __Part B__: Live streaming raw data is managed using AWS Kinesis Data Streams, AWS Glue Streaming and persisted in an S3 bucket. The data is cleaned and stored in another S3 bucket.
 Then we will create a Glue database to catalog the data. This is further used by AWS Redshift Serverless for processing and querying. This data is then visualized using Amazon Quicksight, monitored by the Factory Manager.
 
* __Part C__: AWS lambda is used to trigger AWS Simple Notification Service (SNS) if OEE KPI is breached below 85%. The line operator gets real time notification to take further action accordingly.

* __Architecture__

![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/7749f530-6d5f-4c78-85c6-646e7d7851d7)

<p align="center"> Image Source : AWS </p>


### Dataset Attributes

__line__ - the factory line id

__line_description__ - description of the type of vehicle parts are made on the line.

__operator_name__ - last name, first name of the employee operating the machine at the time of data entry.

__operator_perno__ - HR personel number of the employee.

__assembly_id__ - vehicle part number being assembled.

__machine_model_no__ - model number of the manufacturing machine.

__machine_manufacturer_id__ - unique id of the specific machine ( concatenation line+machine).

__machine__ - the machine location on a given line

__machine_description__ - description of the area of the vehicle in which the machine is assemblying for.

__units_target__ - target number of units to be produced for a shift.

__timestamp__ - time at which the event was recorded.

__wire_tension__ - amount of tension for the machine's wire (in newtons), this wire helps with assembly.

__power_unit__ - amount of power being generated by the machine (0-100) in kilowatts.

__error_code__ - code of error being produced at the moment.

__bit_speed__ - how fast the machine's rotating bit (to power the machine) is spinning in revolutions per minute (R.P.M).

__temperature__ - the current temperature of the machine in celsius.

__units__ - current number of units produced (the machine has the ability to track when a full unit is produced, allowing a decimal to be shown between each full unit).

__defective_count__ - amount of defects produced at the given time (shown as a decimal but can be converted to a percentage).


 ### Data Cleaning
 
 Steps to be followed on AWS Glue DataBrew:
 
 __1.__ Redact Personally Identifiable Information (PII). Here __operator_name__ and __operator_perno__ columns needs to be redacted.
 
 __2.__ Sort the data in ascending order by __timestamp__. 
 
 __3.__ __Aggregate__ the __units__ produced and __units_target__ columns by __cumulative sum__ , __grouped__ by __machine_manufacturer_id__ column.
 
 __4.__ Select the __machine_manufacturer_id__ column as the first column.
 
 __5.__ __OEE__ is the number of units produced divided by the cumulative number of expected units produced. Take these two columns created in step 3 and divide      __units_cumulative_sum__ by __units_target_cumulative_sum__ , name the column __OEE_divide__. 
 
 __6.__  Now multiply __OEE_DIVIDE__ column by 100 in order to get __OEE__ as a percentage.
 
 __7.__ Drop the columns __units_target_cumulative_sum__, __units_cumulative_sum__ and __OEE_divide__ as they were only needed to calculate __OEE__. 
 
 __8.__ Create and execute a DataBrew job for the transformations applied. Store the job's output in a __PARQUET__ file format with __snappy__ compression in __S3__.
 
 
 ### Analyze and Share
 
 __1.__ Load the cleaned historical data into __Redshift Serverless__ and create a table named __machine_table__.
 
 __2.__ Create needed __Redshift Serverless__ data source in __Amazon_QuickSight__.
 
 __3.__ Create __Dashboard__ to view and analyze historical data.
 
 ![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/bf742092-bee4-4d6c-a93f-d3ac5a51f6cd)
 <p align="center"> <b> Figure 1 </b> </p>
 
 ![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/1694afb8-065c-43d5-a06b-a5d5c383280c)
 <p align="center"> <b> Figure 2 </b> </p>
 
 ![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/cf219fb4-be12-4ea3-b93e-013fcdce1509)
  <p align="center"> <b> Figure 3 </b> </p>
  
  


__INSIGHTS__

__1.__ From the __Figure 1__ we can see the __OEE__ is relatively consistent up until the last day of our history day except for __Line 1 Device 5__
       This machine has been experiencing a drop in OEE over the last few days of the dataset.
 
__2.__ In the __box plot__ from the __Figure 3__ we can identify anything different with how __Line 1 Device 5__ was operating.
       The box plot visual shows the operating parameters for each machine in the factory. A boxplot
       displays the five-number summary of a set of data. The five-number summary is the minimum, first quartile, median, third quartile, and maximum. QuickSight by default removes
       outliers from the box plot display. We can see here that __line 1 machine 5__ had different operating characteristics than the other machines during the time period we are
       looking.
       
__3.__ We can further investigate to determine, why __line 1 machine 5__ had such different operating parameters. We can add a table visual to see all the operators that have worked          on __line 1 machine 5__. In the __Figure 4__ below we can see that __John__ is responsible for many more defects than his colleagues. 

![image](https://github.com/AkshayTandulkar/Real-Time_Automotive_OEE_Analysis/assets/42748797/df91fe4e-cc2b-4e0f-90e2-32e4b64a5f89)
<p align="center"> <b> Figure 4 </b> </p>

__In conclusion it was recommended that John must receive more training to reduce the overall amounts of defects.__


 
 
 
 
 






